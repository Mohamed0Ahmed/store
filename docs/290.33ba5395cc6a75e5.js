"use strict";(self.webpackChunkDashBoard=self.webpackChunkDashBoard||[]).push([[290],{5290:(x,l,a)=>{a.r(l),a.d(l,{CartComponent:()=>y});var u=a(6814),m=a(1120),t=a(4769),f=a(7422),d=a(2425);function h(r,c){1&r&&(t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"img",6),t.qZA(),t.TgZ(3,"div",7)(4,"h2",8),t._uU(5," Your Cart is empty. "),t.qZA(),t.TgZ(6,"button",9),t._uU(7," Go To Shopping "),t.qZA()()())}function o(r,c){1&r&&(t.ynx(0),t._UZ(1,"i",22),t.BQk())}function s(r,c){1&r&&t._UZ(0,"i",23)}function g(r,c){1&r&&t._UZ(0,"i",23)}function C(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div")(3,"i",14),t.NdJ("click",function(){const _=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.removeCartItem(_.product._id))}),t.qZA()(),t.TgZ(4,"div",15)(5,"h2",16),t._uU(6),t.qZA(),t._UZ(7,"img",17),t.qZA(),t.TgZ(8,"div",18)(9,"h2",19),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"h2",19),t._uU(13,"20% SALE"),t.qZA()(),t.TgZ(14,"div")(15,"span"),t.YNc(16,o,2,0,"ng-container",20),t.YNc(17,s,1,0,"i",21),t.YNc(18,g,1,0,"i",21),t.qZA()()()()}if(2&r){const e=c.$implicit,i=t.oxw(2);t.xp6(6),t.hij(" ",e.product.title.split(" ").slice(0,2).join(" ")," "),t.xp6(1),t.Q6J("src",e.product.imageCover,t.LSH)("alt",e.product.title),t.xp6(3),t.hij(" ",t.xi3(11,7,e.price," EGP ")," "),t.xp6(6),t.Q6J("ngForOf",i.generateRatingArray(e.product.ratingsAverage)),t.xp6(1),t.Q6J("ngIf",e.product.ratingsAverage<5),t.xp6(1),t.Q6J("ngIf",e.product.ratingsAverage<4)}}function v(r,c){if(1&r&&(t.TgZ(0,"div",10),t.YNc(1,C,19,10,"div",11),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cartDetails.products)}}function b(r,c){1&r&&(t.TgZ(0,"span"),t._uU(1," -20% "),t.qZA())}function Z(r,c){1&r&&(t.TgZ(0,"span"),t._uU(1," -16% "),t.qZA())}function T(r,c){1&r&&(t.TgZ(0,"span"),t._uU(1," -12% "),t.qZA())}function A(r,c){1&r&&(t.ynx(0),t._UZ(1,"i",22),t.BQk())}function U(r,c){1&r&&t._UZ(0,"i",23)}function I(r,c){1&r&&t._UZ(0,"i",23)}function O(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"tr",15)(1,"td",39)(2,"i",40),t.NdJ("click",function(){const _=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.removeCartItem(_.product._id))}),t.qZA()(),t.TgZ(3,"td",41),t._UZ(4,"img",42),t.qZA(),t.TgZ(5,"td",43),t._uU(6),t.qZA(),t.TgZ(7,"td",44),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",44)(11,"div",45)(12,"button",46),t.NdJ("click",function(){const _=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.updateCount(_.product._id,_.count-1))}),t._uU(13," - "),t.qZA(),t.TgZ(14,"span",47),t._uU(15),t.qZA(),t.TgZ(16,"button",48),t.NdJ("click",function(){const _=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.updateCount(_.product._id,_.count+1))}),t._uU(17," + "),t.qZA()()(),t.TgZ(18,"td",44),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"td",49),t.YNc(22,b,2,0,"span",3),t.YNc(23,Z,2,0,"span",3),t.YNc(24,T,2,0,"span",3),t.qZA(),t.TgZ(25,"td",39)(26,"div",50)(27,"span"),t.YNc(28,A,2,0,"ng-container",20),t.YNc(29,U,1,0,"i",21),t.YNc(30,I,1,0,"i",21),t.qZA()()()()}if(2&r){const e=c.$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("src",e.product.imageCover,t.LSH)("alt",e.product.title),t.xp6(2),t.hij(" ",e.product.title.split(" ").slice(0,2).join(" ")," "),t.xp6(2),t.hij(" ",t.xi3(9,13,e.price," EGP ")," "),t.xp6(4),t.Q6J("disabled",1==e.count),t.xp6(3),t.hij(" ",e.count," "),t.xp6(4),t.hij(" ",t.xi3(20,16,e.price*e.count," EGP ")," "),t.xp6(3),t.Q6J("ngIf",e.price>3e3),t.xp6(1),t.Q6J("ngIf",e.price<3e3&&e.price>1500),t.xp6(1),t.Q6J("ngIf",e.price<1500),t.xp6(4),t.Q6J("ngForOf",i.generateRatingArray(e.product.ratingsAverage)),t.xp6(1),t.Q6J("ngIf",e.product.ratingsAverage<5),t.xp6(1),t.Q6J("ngIf",e.product.ratingsAverage<4)}}const k=function(r){return["/onlinepayment",r]},w=function(r){return["/cash",r]};function E(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",24)(2,"table",25)(3,"thead",26)(4,"tr",27)(5,"th",28),t._uU(6,"DELETE"),t.qZA(),t.TgZ(7,"th",28),t._uU(8,"IMAGE"),t.qZA(),t.TgZ(9,"th",28),t._uU(10,"PRODUCT"),t.qZA(),t.TgZ(11,"th",28),t._uU(12,"PRICE"),t.qZA(),t.TgZ(13,"th",28),t._uU(14,"QUANTITY"),t.qZA(),t.TgZ(15,"th",28),t._uU(16,"TOTAL"),t.qZA(),t.TgZ(17,"th",28),t._uU(18,"SALE"),t.qZA(),t.TgZ(19,"th",28),t._uU(20,"RATING"),t.qZA()()(),t.TgZ(21,"tbody",29),t.YNc(22,O,31,19,"tr",30),t.qZA()()(),t.TgZ(23,"div",31)(24,"div",32)(25,"button",33)(26,"span"),t._uU(27," PAYMENT "),t._UZ(28,"i",34),t.qZA()(),t.TgZ(29,"button",35)(30,"span"),t._uU(31," CASH "),t._UZ(32,"i",36),t.qZA()()(),t.TgZ(33,"div",37)(34,"button",38),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.clearCart())}),t._uU(35," CLEAR CART "),t.qZA()()()()}if(2&r){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.cartDetails.products),t.xp6(3),t.Q6J("routerLink",t.VKq(3,k,e.cartDetails._id)),t.xp6(4),t.Q6J("routerLink",t.VKq(5,w,e.cartDetails._id))}}let y=(()=>{class r{constructor(e,i){this._CartService=e,this._toastr=i,this.cartDetails={},this.empty={},this.numberOfItems=0,this.navCartNum=0}ngOnInit(){this._CartService.getUserCart().subscribe({next:e=>{this.cartDetails=e.data,this.numberOfItems=e.numOfCartItems},error:e=>{console.log(e)}}),this._CartService.cartNubmer.subscribe({next:e=>{this.navCartNum=e}})}removeCartItem(e){this._CartService.removeItem(e).subscribe({next:i=>{console.log(i),this.cartDetails=i.data,console.log(this.numberOfItems),this._toastr.success(i.status),this.numberOfItems=i.numOfCartItems,this._CartService.cartNubmer.next(i.numOfCartItems)},error:i=>{console.log(i)}})}generateRatingArray(e){return Array.from({length:e},(i,n)=>n)}updateCount(e,i){this._CartService.updateCount(e,i).subscribe({next:n=>{console.log(n),this.cartDetails=n.data,this._toastr.success(n.status),this.numberOfItems=n.numOfCartItems},error:n=>{console.log(n)}})}clearCart(){this._CartService.clearCart().subscribe({next:e=>{console.log(e),"success"==e.message&&(this.cartDetails=this.empty,this.numberOfItems=0,this._toastr.success(e.message),this._CartService.cartNubmer.next(0))}})}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(f.N),t.Y36(d._W))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[1,"pt-[10px]","lg:container","mx-auto"],["class","flex flex-col lg:flex-row items-center justify-center pt-12 h-[70vh]",4,"ngIf"],["class","md:hidden",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","lg:flex-row","items-center","justify-center","pt-12","h-[70vh]"],[1,"lg:w-[60%]"],["src","./assets/images/24758680_tourist_va_03-removebg.png","alt","svg",1,"w-full"],[1,"pt-12","text-center"],[1,"font-extrabold","text-[30px]","text-slate-700","dark:text-white"],["routerLink","/home",1,"btn","bg-red-700","hover:bg-red-500","font-bold","text-white"],[1,"md:hidden"],["class","bg-white p-4 rounded-lg shadow dark:bg-[#15191d]",4,"ngFor","ngForOf"],[1,"bg-white","p-4","rounded-lg","shadow","dark:bg-[#15191d]"],[1,"flex","items-center","justify-between"],[1,"fa-solid","fa-trash","fa-lg","m-2","cursor-pointer",2,"color","#d74747",3,"click"],[1,"text-center"],[1,"text-black","font-bold","dark:text-white"],[1,"w-[100px]","h-[100px]",3,"src","alt"],[1,"text-center","text-red-500","dark:text-white"],[1,"font-bold"],[4,"ngFor","ngForOf"],["class","fa-solid fa-star repeat_here text-black dark:text-[#ffffff]",4,"ngIf"],[1,"fa-solid","fa-star","repeat_here",2,"color","#ff3b3b"],[1,"fa-solid","fa-star","repeat_here","text-black","dark:text-[#ffffff]"],[1,"overflow-auto","rounded-lg","shadow","hidden","md:block"],[1,"w-full"],[1,"bg-gray-300","border-b-2","border-red-600","dark:text-white","dark:bg-slate-700"],[1,""],[1,"p-3","text-[20px]","font-bold","tracking-wide"],[1,"bg-gray-100","dark:bg-[#212529]","h-[70vh]"],["class","text-center",4,"ngFor","ngForOf"],[1,"flex","flex-col","md:flex-row","justify-between","p-5","bg-gray-100","dark:bg-[#212529]","rounded-lg","relative","top-[-20px]"],[1,"flex","flex-col","md:flex-row"],[1,"btn","bg-red-600","hover:bg-red-400","text-white","font-bold",3,"routerLink"],[1,"fa-brands","fa-cc-visa","text-[20px]",2,"color","#ffffff"],[1,"btn","bg-red-600","hover:bg-red-400","text-white","font-bold","md:mx-2","my-2","md:my-0",3,"routerLink"],[1,"fa-solid","fa-truck",2,"color","#ffffff"],[1,"flex","pt-5","md:pt-0"],[1,"btn","bg-red-600","hover:bg-red-400","font-bold","text-white","w-full",3,"click"],[1,"p-3","text-[16px]","text-gray-700"],[1,"fa-solid","fa-trash","fa-lg","text-red-500","cursor-pointer",3,"click"],[1,"p-3"],[1,"w-[100px]","h-[100px]","relative","lg:left-[40px]",3,"src","alt"],[1,"p-3","text-[20px]","font-bold","text-gray-700","dark:text-white"],[1,"p-3","text-[16px]","text-gray-700","font-bold","dark:text-white"],[1,"font-extrabold","text-[20px]"],[1,"w-[30px]","h-[30px]","bg-gray-600","hover:bg-gray-400","rounded-full","text-white",3,"disabled","click"],[1,"px-2"],[1,"w-[30px]","h-[30px]","bg-gray-600","hover:bg-gray-400","rounded-full","text-white",3,"click"],[1,"p-3","text-red-500","text-[20px]","font-extrabold","dark:text-white"],[1,"flex","items-center","justify-center","py-3"]],template:function(i,n){1&i&&(t.TgZ(0,"section",0),t.YNc(1,h,8,0,"div",1),t.YNc(2,v,2,1,"div",2),t.YNc(3,E,36,7,"div",3),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",0==n.numberOfItems),t.xp6(1),t.Q6J("ngIf",0!=n.numberOfItems),t.xp6(1),t.Q6J("ngIf",0!=n.numberOfItems))},dependencies:[u.ez,u.sg,u.O5,u.H9,m.rH]})}return r})()},7422:(x,l,a)=>{a.d(l,{N:()=>f});var u=a(5619),m=a(4769),t=a(9862);let f=(()=>{class d{constructor(o){this._HttpClient=o,this.cartNubmer=new u.X(0)}addToCart(o){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:o})}getUserCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItem(o){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${o}`)}updateCount(o,s){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${o}`,{count:s})}clearCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart/")}checkOut(o,s){const g=encodeURIComponent("https://mohamed0ahmed.github.io/store/#");return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${o}?url=${g}`,{shippingAddress:s})}cash(o,s){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${o}`,{shippingAddress:s})}getUserOrders(o){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${o}`)}static#t=this.\u0275fac=function(s){return new(s||d)(m.LFG(t.eN))};static#e=this.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);