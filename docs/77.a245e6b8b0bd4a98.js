"use strict";(self.webpackChunkDashBoard=self.webpackChunkDashBoard||[]).push([[77],{8077:(f,h,o)=>{o.r(h),o.d(h,{UserLayoutComponent:()=>b});var u=o(6814),p=o(1120),m=o(8784),t=o(4769),c=o(9483),v=o(7422),s=o(7409);function a(i,g){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.wishlistNum," ")}}function d(i,g){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.cart," ")}}function _(i,g){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.profile())}),t._uU(2," Profile "),t.qZA(),t.TgZ(3,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.setting())}),t._uU(4," Setting "),t.qZA(),t.TgZ(5,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.logout())}),t._uU(6," Sign Out "),t.qZA()()}}let x=(()=>{class i{constructor(e,n,r,l){this._AuthService=e,this._CartService=n,this._WishlistService=r,this._Router=l,this.menuOpen=!0,this.userOpen=!0,this.cart=0,this.wishlistNum=0,this.windowWidth=0,this.photo="",this.scrolled=!1}toggleNav(){this.menuOpen=!this.menuOpen}togglemenu(){this.userOpen=!this.userOpen}logout(){this._AuthService.logout()}profile(){this._Router.navigate(["/profile"]),this.userOpen=!this.userOpen}setting(){this._Router.navigate(["/setting"]),this.userOpen=!this.userOpen}ngOnInit(){if(localStorage.getItem("eToken")){let e=localStorage.getItem("eToken"),n=(0,m.o)(e);this.Dataaa=n}this._CartService.getUserCart().subscribe({next:e=>{this.cart=e.numOfCartItems}}),this._CartService.cartNubmer.subscribe({next:e=>{this.cart=e}}),this._WishlistService.wishNumber.subscribe({next:e=>{this.wishlistNum=e}}),this._WishlistService.getWishlist().subscribe({next:e=>{this.wishlistNum=e.count}}),this.userOpen=!1,localStorage.getItem(this.Dataaa.id)?(this._CartService.chgStr(localStorage.getItem(this.Dataaa.id)),this._CartService.strCurr.subscribe(e=>this.photo=e)):this._CartService.strCurr.subscribe(e=>this.photo=e)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.e),t.Y36(v.N),t.Y36(s.M),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-nav-user"]],standalone:!0,features:[t.jDz],decls:36,vars:6,consts:[[1,"py-5","bg-slate-900","fixed","top-0","left-0","right-0","z-40","border-b-4","border-b-red-600","dark:bg-[#313b4b]"],[1,"lg:container","px-3","md:px-0","mx-auto","text-white","flex","items-center","justify-between"],["routerLink","home",1,"tracking-widest","text-3xl","cursor-pointer","font-bold"],[1,"text-red-500"],[1,"links","dark:bg-[#313b4b]"],[1,"flex","md:flex-row","flex-col","items-center","md:gap-[1vw]","gap-6"],["li","",1,"tracking-wide","font-medium","text-1xl","hover:text-gray-500","transition",3,"click"],["routerLink","home"],["routerLink","allorders"],[1,"tracking-wide","transition","md:ms-6","cursor-pointer","hover:text-gray-500",3,"click"],["routerLink","wishlist",1,"flex","flex-col","items-center"],[1,"fa-regular","fa-heart","text-[20px]","relative",2,"color","#ffffff"],["class","absolute bg-red-600 px-[5px] py-[3px] rounded-full text-[12px] top-[-10px] font-bold",4,"ngIf"],[1,"font-bold","text-[8px]"],[1,"tracking-wide","transition","cursor-pointer","hover:text-gray-500",3,"click"],["routerLink","cart",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-cart-shopping","text-[20px]","relative",2,"color","#ffffff"],[1,"text-center","flex","relative"],[1,"mx-3","w-[40px]","h-[40px]","rounded-full","flex","items-center","justify-center","overflow-hidden",3,"click"],["alt","user",1,"w-full",3,"src"],["class","absolute top-[50px] left-[-50px] w-[150px] bg-slate-200 dark:bg-slate-950 rounded-lg text-white p-3 flex flex-col",4,"ngIf"],[1,"md:hidden"],[3,"click"],[1,"fa-solid","fa-bars","text-3xl",2,"color","#ffffff"],[1,"absolute","bg-red-600","px-[5px]","py-[3px]","rounded-full","text-[12px]","top-[-10px]","font-bold"],[1,"absolute","top-[50px]","left-[-50px]","w-[150px]","bg-slate-200","dark:bg-slate-950","rounded-lg","text-white","p-3","flex","flex-col"],[1,"py-1","px-3","bg-slate-800","hover:bg-slate-600","transition","rounded-lg","font-bold","my-2",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"div")(3,"h1",2),t._uU(4," STORE"),t.TgZ(5,"span",3),t._uU(6,"."),t.qZA()()(),t.TgZ(7,"div",4)(8,"ul",5)(9,"li",6),t.NdJ("click",function(){return r.toggleNav()}),t.TgZ(10,"a",7),t._uU(11,"Home"),t.qZA()(),t.TgZ(12,"li",6),t.NdJ("click",function(){return r.toggleNav()}),t.TgZ(13,"a",8),t._uU(14,"My Orders"),t.qZA()(),t.TgZ(15,"li",9),t.NdJ("click",function(){return r.toggleNav()}),t.TgZ(16,"span",10)(17,"span")(18,"i",11),t.YNc(19,a,2,1,"span",12),t.qZA()(),t.TgZ(20,"span",13),t._uU(21,"Your Wishlist"),t.qZA()()(),t.TgZ(22,"li",14),t.NdJ("click",function(){return r.toggleNav()}),t.TgZ(23,"span",15)(24,"span")(25,"i",16),t.YNc(26,d,2,1,"span",12),t.qZA()(),t.TgZ(27,"span",13),t._uU(28,"Your Cart"),t.qZA()()()()(),t.TgZ(29,"div",17)(30,"button",18),t.NdJ("click",function(){return r.togglemenu()}),t._UZ(31,"img",19),t.qZA(),t.YNc(32,_,7,0,"div",20),t.TgZ(33,"div",21)(34,"button",22),t.NdJ("click",function(){return r.toggleNav()}),t._UZ(35,"i",23),t.qZA()()()()()),2&n&&(t.xp6(7),t.ekj("hidden",r.menuOpen),t.xp6(12),t.Q6J("ngIf",r.wishlistNum>0),t.xp6(7),t.Q6J("ngIf",r.cart>0),t.xp6(5),t.Q6J("src",r.photo,t.LSH),t.xp6(1),t.Q6J("ngIf",r.userOpen))},dependencies:[u.ez,u.O5,p.rH]})}return i})();var C=o(7913);let b=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-user-layout"]],standalone:!0,features:[t.jDz],decls:4,vars:0,consts:[[1,"min-h-[100vh]","pt-[75px]"]],template:function(n,r){1&n&&(t._UZ(0,"app-nav-user"),t.TgZ(1,"div",0),t._UZ(2,"router-outlet"),t.qZA(),t._UZ(3,"app-footer"))},dependencies:[u.ez,x,p.lC,C.c]})}return i})()},7422:(f,h,o)=>{o.d(h,{N:()=>t});var u=o(5619),p=o(4769),m=o(9862);let t=(()=>{class c{constructor(s){this._HttpClient=s,this.cartNubmer=new u.X(0),this.strSrc=new u.X("./assets/images/user.jpg"),this.strCurr=this.strSrc.asObservable()}chgStr(s){this.strSrc.next(s)}addToCart(s){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:s})}getUserCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItem(s){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${s}`)}updateCount(s,a){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${s}`,{count:a})}clearCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart/")}checkOut(s,a){const d=encodeURIComponent("https://mohamed0ahmed.github.io/store/#");return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${s}?url=${d}`,{shippingAddress:a})}cash(s,a){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${s}`,{shippingAddress:a})}getUserOrders(s){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${s}`)}static#t=this.\u0275fac=function(a){return new(a||c)(p.LFG(m.eN))};static#e=this.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);