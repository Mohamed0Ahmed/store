"use strict";(self.webpackChunkDashBoard=self.webpackChunkDashBoard||[]).push([[616],{3616:(C,m,o)=>{o.r(m),o.d(m,{CashComponent:()=>x});var p=o(6814),s=o(95),t=o(4769),_=o(1120),u=o(7422);function f(n,g){1&n&&(t.TgZ(0,"div",18)(1,"p",8),t._uU(2,"Details is required"),t.qZA()())}function e(n,g){1&n&&(t.TgZ(0,"p",8),t._uU(1," Phone is required "),t.qZA())}function a(n,g){1&n&&(t.TgZ(0,"p",8),t._uU(1," Invalid Number "),t.qZA())}function v(n,g){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,e,2,0,"p",19),t.YNc(2,a,2,0,"p",19),t.qZA()),2&n){const i=t.oxw();let l,r;t.xp6(1),t.Q6J("ngIf",null==(l=i.checkOut.get("phone"))?null:l.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=i.checkOut.get("phone"))?null:r.getError("pattern"))}}function O(n,g){1&n&&(t.TgZ(0,"div",18)(1,"p",8),t._uU(2,"City is required"),t.qZA()())}let x=(()=>{class n{constructor(i,l,r,c){this._FormBuilder=i,this._ActivatedRoute=l,this._CartService=r,this._Router=c,this.cartId="",this.userData={},this.checkOut=this._FormBuilder.group({details:["",s.kI.required],phone:["",[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)]],city:["",s.kI.required]})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:i=>{console.log(i.get("id")),this.cartId=i.get("id")}})}handleForm(){console.log(this.checkOut.value),this.userData=this.checkOut.value,this._CartService.cash(this.cartId,this.userData).subscribe({next:i=>{console.log(i),"success"==i.status&&(window.open("https://mohamed0ahmed.github.io/store/#/allorders","_blank"),window.close())}})}static#t=this.\u0275fac=function(l){return new(l||n)(t.Y36(s.qu),t.Y36(_.gz),t.Y36(u.N),t.Y36(_.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-cash"]],standalone:!0,features:[t.jDz],decls:27,vars:5,consts:[[1,"lg:container","mx-auto"],[1,"flex","flex-col","lg:flex-row","items-center","justify-center","lg:min-h-[90vh]"],[1,"p-5"],["src","./assets/images/cash.png","alt","online"],[1,"shadow-lg","shadow-slate-700","p-5","rounded-lg","dark:shadow-none"],[1,"text-center","md:py-12"],[1,"font-extrabold","text-slate-800","dark:text-slate-200","md:text-[30px]"],[1,"dark:text-white","font-bold","text-slate-950",3,"formGroup","ngSubmit"],[1,""],["for","details"],["type","text","id","details","formControlName","details",1,"input"],["class","text-slate-500 dark:text-white text-[12px] text-center",4,"ngIf"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"input"],["for","city"],["type","text","id","city","formControlName","city",1,"input"],[1,"text-center","pt-5"],[1,"btn-set",3,"disabled"],[1,"text-slate-500","dark:text-white","text-[12px]","text-center"],["class","",4,"ngIf"]],template:function(l,r){if(1&l&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7," Information About Delivery "),t.qZA()(),t.TgZ(8,"form",7),t.NdJ("ngSubmit",function(){return r.handleForm()}),t.TgZ(9,"div",8)(10,"label",9),t._uU(11,"Notes To Deliver"),t.qZA(),t._UZ(12,"input",10),t.qZA(),t.YNc(13,f,3,0,"div",11),t.TgZ(14,"div",8)(15,"label",12),t._uU(16,"Number To Contact"),t.qZA(),t._UZ(17,"input",13),t.qZA(),t.YNc(18,v,3,2,"div",11),t.TgZ(19,"div",8)(20,"label",14),t._uU(21,"Address To Deliver"),t.qZA(),t._UZ(22,"input",15),t.qZA(),t.YNc(23,O,3,0,"div",11),t.TgZ(24,"div",16)(25,"button",17),t._uU(26,"Submit"),t.qZA()()()()()()),2&l){let c,h,d;t.xp6(8),t.Q6J("formGroup",r.checkOut),t.xp6(5),t.Q6J("ngIf",((null==(c=r.checkOut.get("details"))?null:c.touched)||""!=(null==(c=r.checkOut.get("details"))?null:c.value))&&(null==(c=r.checkOut.get("details"))?null:c.errors)),t.xp6(5),t.Q6J("ngIf",((null==(h=r.checkOut.get("phone"))?null:h.touched)||""!=(null==(h=r.checkOut.get("phone"))?null:h.value))&&(null==(h=r.checkOut.get("phone"))?null:h.errors)),t.xp6(5),t.Q6J("ngIf",((null==(d=r.checkOut.get("city"))?null:d.touched)||""!=(null==(d=r.checkOut.get("city"))?null:d.value))&&(null==(d=r.checkOut.get("city"))?null:d.errors)),t.xp6(2),t.Q6J("disabled",r.checkOut.invalid)}},dependencies:[p.ez,p.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return n})()},7422:(C,m,o)=>{o.d(m,{N:()=>_});var p=o(5619),s=o(4769),t=o(9862);let _=(()=>{class u{constructor(e){this._HttpClient=e,this.cartNubmer=new p.X(0),this.strSrc=new p.X("./assets/images/user.jpg"),this.strCurr=this.strSrc.asObservable()}chgStr(e){this.strSrc.next(e)}addToCart(e){return this._HttpClient.post("https://ecommerce.routemisr.com/api/v1/cart",{productId:e})}getUserCart(){return this._HttpClient.get("https://ecommerce.routemisr.com/api/v1/cart")}removeItem(e){return this._HttpClient.delete(`https://ecommerce.routemisr.com/api/v1/cart/${e}`)}updateCount(e,a){return this._HttpClient.put(`https://ecommerce.routemisr.com/api/v1/cart/${e}`,{count:a})}clearCart(){return this._HttpClient.delete("https://ecommerce.routemisr.com/api/v1/cart/")}checkOut(e,a){const v=encodeURIComponent("https://mohamed0ahmed.github.io/store/#");return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=${v}`,{shippingAddress:a})}cash(e,a){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/${e}`,{shippingAddress:a})}getUserOrders(e){return this._HttpClient.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${e}`)}static#t=this.\u0275fac=function(a){return new(a||u)(s.LFG(t.eN))};static#e=this.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);